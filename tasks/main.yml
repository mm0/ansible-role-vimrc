
  - name: Ensure system-wide vim config only so users can set own preferences 
    template: src=vimrc.j2 dest=/etc/vim/vimrc
    owner: root 
    group: root 
    mode: 644
    become: yes

  - name: Ensure Vim Plugin directory exists
    file: path={{ vimrc_root_directory}} state=directory owner=root group=root
    become: yes

  - name: create archive for vimRC Plugin files
    local_action: shell chdir={{ role_path }}/files/ tar  -C ./vim -cvzf vimfiles.tgz .;
    become: no

  - name: Copy VimRC Plugins
    unarchive: src="{{ role_path }}/files/vimfiles.tgz" dest="{{ vimrc_root_directory }}/"
    become: yes

  - name: Ensure Vim Plugin Permissions
    file: path={{ vimrc_root_directory}} state=directory owner=root group=root recurse=yes
    become: yes
